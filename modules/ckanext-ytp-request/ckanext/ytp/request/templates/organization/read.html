{% ckan_extends %}

{% block page_primary_action %}
    {{ super() }}

    {% if h.check_access('member_request_create', {'organization_id': c.group_dict.id}) %}
        <a class="btn btn-primary" href="{{ h.url_for('member_request_new', selected_organization=c.group_dict.name) }}">
            <i class="icon-circle-arrow-right"></i>
            {% trans %}Request membership{% endtrans %}
        </a>
    {% elif h.check_access('member_request_membership_cancel', {'organization_id': c.group_dict.id}) %}
        {% set locale = h.dump_json({'content': _('Are you sure you want cancel membership?')}) %}
        <a class="btn btn-danger" href="{{ h.url_for('member_request_membership_cancel', organization_id=c.group_dict.id) }}" data-module="confirm-action" data-module-i18n="{{ locale }}">
            <i class="icon-circle-arrow-right"></i>
            {% trans %}Cancel membership{% endtrans %}
        </a>
    {% elif h.check_access('member_request_cancel', {'organization_id': c.group_dict.id}) %}
        <a class="btn btn-primary" href="{{ h.url_for('member_request_show_organization', organization_id=c.group_dict.id) }}">
            <i class="icon-circle-arrow-right"></i>
            {% trans %}Cancel request{% endtrans %}
        </a>
    {% endif %}
{% endblock %}
